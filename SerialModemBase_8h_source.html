<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MU_Modem: src/common/SerialModemBase.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MU_Modem
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_fdedb0aba14d44ce9d99bc100e026e6a.html">common</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">SerialModemBase.h</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;Arduino.h&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="keyword">enum class</span> ModemError</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>{</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>    Ok,             </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>    Busy,           </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>    InvalidArg,     </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>    FailLbt,        </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>    Fail,           </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    BufferTooSmall, </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    Timeout         </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>};</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="keyword">enum class</span> ModemParseResult</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>{</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    Parsing,             </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    Garbage,             </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    Overflow,            </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    FinishedCmdResponse, </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    FinishedDrResponse   </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>};</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="keyword">enum class</span> CommandType</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>{</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    None,</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    Simple,  </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    NvmSave, </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    DataTx   </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>};</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="structModemCommand.html">   50</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structModemCommand.html">ModemCommand</a></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>{</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="structModemCommand.html#a4e4a6f6e8c65e48c6d81f283f0bc7969">   52</a></span>    CommandType <a class="code hl_variable" href="structModemCommand.html#a4e4a6f6e8c65e48c6d81f283f0bc7969">type</a>;        </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="structModemCommand.html#aebf5efd384f2387eef79ba3ab178a606">   53</a></span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="structModemCommand.html#aebf5efd384f2387eef79ba3ab178a606">cmdBuffer</a>[48];      </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="structModemCommand.html#a379d1badb98d7145f06521538b0aa7a3">   54</a></span>    <span class="keyword">const</span> uint8_t *<a class="code hl_variable" href="structModemCommand.html#a379d1badb98d7145f06521538b0aa7a3">pPayload</a>; </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="structModemCommand.html#a81b918a9a334cad508e0346232624380">   55</a></span>    uint8_t <a class="code hl_variable" href="structModemCommand.html#a81b918a9a334cad508e0346232624380">payloadLen</a>;      </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="structModemCommand.html#a2d12ae450ad13ece22402b2625901d07">   56</a></span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="structModemCommand.html#a2d12ae450ad13ece22402b2625901d07">suffix</a>[48];         </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="structModemCommand.html#af58ddc0e562b25b7294090eaf2c0ede4">   57</a></span>    uint32_t <a class="code hl_variable" href="structModemCommand.html#af58ddc0e562b25b7294090eaf2c0ede4">timeoutMs</a>;      </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>};</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="comment">// --- Debug Configuration ---</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="comment">// To enable debug prints, define ENABLE_SERIAL_MODEM_DEBUG in your project</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment">// #define ENABLE_SERIAL_MODEM_DEBUG</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="preprocessor">#ifdef ENABLE_SERIAL_MODEM_DEBUG</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="preprocessor">#define SM_DEBUG_PRINT(...) this-&gt;dbgPrint(__VA_ARGS__)</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="preprocessor">#define SM_DEBUG_PRINTLN(...) this-&gt;dbgPrintln(__VA_ARGS__)</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="preprocessor">#define SM_DEBUG_PRINTF(...) this-&gt;dbgPrintf(__VA_ARGS__)</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="preprocessor">#define SM_DEBUG_WRITE(...) this-&gt;dbgWrite(__VA_ARGS__)</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="preprocessor">#define SM_DEBUG_PRINT(...) \</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="preprocessor">    do                      \</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="preprocessor">    {                       \</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="preprocessor">    } while (0)</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="preprocessor">#define SM_DEBUG_PRINTLN(...) \</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="preprocessor">    do                        \</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="preprocessor">    {                         \</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="preprocessor">    } while (0)</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="preprocessor">#define SM_DEBUG_PRINTF(...) \</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="preprocessor">    do                       \</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="preprocessor">    {                        \</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="preprocessor">    } while (0)</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="preprocessor">#define SM_DEBUG_WRITE(...) \</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="preprocessor">    do                      \</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="preprocessor">    {                       \</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="preprocessor">    } while (0)</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="classSerialModemBase.html">   91</a></span><span class="keyword">class </span><a class="code hl_class" href="classSerialModemBase.html">SerialModemBase</a></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>{</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <a class="code hl_function" href="classSerialModemBase.html#a721d7d491c855fdaf7fb6ac25cac7845">SerialModemBase</a>();</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a92176561a6bc6194cb486b823ab4a3a5">   95</a></span>    <span class="keyword">virtual</span> <a class="code hl_function" href="classSerialModemBase.html#a92176561a6bc6194cb486b823ab4a3a5">~SerialModemBase</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#a938b49690a372fcd516ae717316dd69d">setDebugStream</a>(Stream *debugStream);</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#a6379a71afa895ca5a974e67cfecae4ce">update</a>();</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classSerialModemBase.html#a2742096334dffac539fec2245d06b0e8">isIdle</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a569e64d66f8153d2ff5d1132f6113aa1">  118</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classSerialModemBase.html#a569e64d66f8153d2ff5d1132f6113aa1">isLastCommandComplete</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _lastCmdComplete; }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#ab502aab6b4954bb68da44cf7b129459d">  123</a></span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#ab502aab6b4954bb68da44cf7b129459d">getLastCommandResult</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _lastCmdResult; }</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a7febfbea4cd126a4952f0e8d9e927b95">  128</a></span>    <span class="keyword">const</span> uint8_t *<a class="code hl_function" href="classSerialModemBase.html#a7febfbea4cd126a4952f0e8d9e927b95">getRxBuffer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classSerialModemBase.html#af598b0d59e607ca4ab8f7499401374a1">_rxBuffer</a>; }</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#afdaea338042a56fccd7e4944c1daeb6f">  129</a></span>    uint16_t <a class="code hl_function" href="classSerialModemBase.html#afdaea338042a56fccd7e4944c1daeb6f">getRxIndex</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classSerialModemBase.html#a660cde54b0cd8a5486f8e3c2b97a81a4">_rxIndex</a>; }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classSerialModemBase.html#a6b1dc4f0421d790972c5a9e61f577207">isQueueFull</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classSerialModemBase.html#aa7b88289f19d571377fcd8f39a010d1d">isQueueEmpty</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    uint8_t <a class="code hl_function" href="classSerialModemBase.html#ab9c4b2aad658674f0cf16f0b0d12475d">getQueueCount</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="preprocessor">#ifdef ENABLE_SERIAL_MODEM_DEBUG</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="keywordtype">void</span> dbgPrint(Args... args)</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    {</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>)</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>            <a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>-&gt;print(<a class="code hl_function" href="classSerialModemBase.html#a4f23867fecd9dd11d1c7f3abaaaf6a9f">getLogPrefix</a>());</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>            <a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>-&gt;print(args...);</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        }</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    }</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordtype">void</span> dbgPrintln(Args... args)</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    {</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>)</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>            <a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>-&gt;print(<a class="code hl_function" href="classSerialModemBase.html#a4f23867fecd9dd11d1c7f3abaaaf6a9f">getLogPrefix</a>());</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>            <a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>-&gt;println(args...);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        }</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    }</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="keywordtype">void</span> dbgPrintf(Args... args)</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>)</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        {</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>            <a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>-&gt;print(<a class="code hl_function" href="classSerialModemBase.html#a4f23867fecd9dd11d1c7f3abaaaf6a9f">getLogPrefix</a>());</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>            <a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>-&gt;printf(args...);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    }</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keywordtype">void</span> dbgWrite(Args... args)</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>)</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>            <a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a>-&gt;write(args...);</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    }</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span> </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#acec4c7a18d9bf7eb0287214c31df2fa0">  183</a></span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="classSerialModemBase.html#acec4c7a18d9bf7eb0287214c31df2fa0">CD_WRITE_OK_RESPONSE</a>[] = <span class="stringliteral">&quot;*WR=PS&quot;</span>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a11b99e1c6a57e007ffb2251de4a58ff6">  184</a></span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="classSerialModemBase.html#a11b99e1c6a57e007ffb2251de4a58ff6">CD_WRITE_OK_RESPONSE_LEN</a> = 6;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#aa7ba8a282229b25cd00193355dc79dad">  185</a></span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="classSerialModemBase.html#aa7ba8a282229b25cd00193355dc79dad">CD_VAL_ON</a>[] = <span class="stringliteral">&quot;ON&quot;</span>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#aa89355ce4236571ae431f842acc497bc">  186</a></span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="classSerialModemBase.html#aa89355ce4236571ae431f842acc497bc">CD_VAL_OFF</a>[] = <span class="stringliteral">&quot;OF&quot;</span>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#ab774f2f050e3e11d5ab3c88eaabaf916">  187</a></span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="classSerialModemBase.html#ab774f2f050e3e11d5ab3c88eaabaf916">CD_CMD_WRITE_SUFFIX</a>[] = <span class="stringliteral">&quot;/W&quot;</span>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="comment">// --- Initialization ---</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="comment"></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#a90001afb9989a22eef12a7bec84c0b92">initSerial</a>(Stream &amp;stream);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="comment">// --- Command Queueing (For Derived Classes) ---</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#a6f2acddc58d3a5e2de5d0bc0e35f9d87">enqueueCommand</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, CommandType type, uint32_t timeoutMs = 1000);</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#a62559c5e79c97e189bc533e6e519476d">enqueueTxCommand</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmdHeader, <span class="keyword">const</span> uint8_t *payload, uint8_t len, <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix = <span class="keyword">nullptr</span>, uint32_t timeoutMs = 2000);</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="comment">// --- Synchronous Wrappers (Implemented via update() loop) ---</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <span class="comment">// These replace the old blocking implementations but keep the same signature for API compatibility.</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#aa6c733e4185493aa3e383fe64247940c">setByteValue</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, uint8_t value, <span class="keywordtype">bool</span> save, <span class="keyword">const</span> <span class="keywordtype">char</span> *respPrefix, <span class="keywordtype">size_t</span> respLen);</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#a0376336f4d71edfd68fd9e16bd2bb356">getByteValue</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, uint8_t *pValue, <span class="keyword">const</span> <span class="keywordtype">char</span> *respPrefix, <span class="keywordtype">size_t</span> respLen);</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#a7ac70846ba74ce3fa3aef67424058a38">setBoolValue</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *baseCmd, <span class="keywordtype">bool</span> enabled, <span class="keywordtype">bool</span> save, <span class="keyword">const</span> <span class="keywordtype">char</span> *respPrefix);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span> </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#a037bdc3e12c26a97b58d43e178d61005">getBoolValue</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, <span class="keywordtype">bool</span> *pValue, <span class="keyword">const</span> <span class="keywordtype">char</span> *respPrefix);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#a2d5b808ae113cd332e75eb84780665a9">sendRawCommand</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *command, <span class="keywordtype">char</span> *responseBuffer, <span class="keywordtype">size_t</span> bufferSize, uint32_t timeoutMs);</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#a91ca8ae2b9ee8349a17b14a9322b567a">waitForSyncComplete</a>(uint32_t timeoutMs);</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="comment">// --- Low-Level I/O ---</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#a9c1a5a8e4c50afee52ff9ced7ebe547c">writeString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str, <span class="keywordtype">bool</span> printPrefix = <span class="keyword">true</span>);</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#aedfe8da8ddd9f191ee0db34708cf2cd7">writeData</a>(<span class="keyword">const</span> uint8_t *data, <span class="keywordtype">size_t</span> len);</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="classSerialModemBase.html#af6359d9f6c622d523f0c8155190c3560">readByte</a>();</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#ac35e6a4eb3d760c6d918f2842cb653a8">unreadByte</a>(uint8_t c);</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#a72c19051d58c52cde545f5d9b7a406e2">clearUnreadByte</a>();</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#ae4f93fac59aa23311a1ac005d5d9248f">flushGarbage</a>(<span class="keywordtype">char</span> keepChar = <span class="charliteral">&#39;*&#39;</span>);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="comment">// --- Timeout Management ---</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#a014b74a55c323917455166aa4f8bf0c9">startTimeout</a>(uint32_t ms);</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classSerialModemBase.html#aecf4e795e387b3b1e808cd007b0e042d">isTimeout</a>();</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="comment">// --- Parsing Helpers ---</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classSerialModemBase.html#a193725b12d94adcbfa185176a3d1c548">parseHex</a>(<span class="keyword">const</span> uint8_t *pData, <span class="keywordtype">size_t</span> len, uint32_t *pResult);</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classSerialModemBase.html#a6e2f5fa62589053128efb5f01d06b9e5">parseDec</a>(<span class="keyword">const</span> uint8_t *pData, <span class="keywordtype">size_t</span> len, uint32_t *pResult);</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#a7129047f2aaa164b385f2243248e8dc4">parseResponseHex</a>(<span class="keyword">const</span> uint8_t *buffer, <span class="keywordtype">size_t</span> length, <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix, uint8_t hexDigits, uint32_t *pResult);</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    ModemError <a class="code hl_function" href="classSerialModemBase.html#a4c31ffdb564b1a19fcf983fcf536a445">parseResponseDec</a>(<span class="keyword">const</span> uint8_t *buffer, <span class="keywordtype">size_t</span> length, <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix, <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix, <span class="keywordtype">size_t</span> suffixLen, int32_t *pResult);</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <span class="comment">// --- Virtual Methods (To be implemented by Derived Classes) ---</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a22317dbeea2625b628b54ab3ad80f8e7">  297</a></span><span class="comment"></span>    <span class="keyword">virtual</span> ModemParseResult <a class="code hl_function" href="classSerialModemBase.html#a22317dbeea2625b628b54ab3ad80f8e7">parse</a>() = 0;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#ad5a965cb93670f444edd823236e77ff7">  298</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#ad5a965cb93670f444edd823236e77ff7">onRxDataReceived</a>() = 0;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a4f23867fecd9dd11d1c7f3abaaaf6a9f">  299</a></span>    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="classSerialModemBase.html#a4f23867fecd9dd11d1c7f3abaaaf6a9f">getLogPrefix</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a092f06bfbced5de912078b554ce6eff9">  304</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classSerialModemBase.html#a092f06bfbced5de912078b554ce6eff9">onCommandComplete</a>(ModemError result) {}</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    <span class="comment">// --- String Helpers (with bounds checking) ---</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="classSerialModemBase.html#a2c0601401ea0a17514bde32404c3ef39">appendStr</a>(<span class="keywordtype">char</span> *dest, <span class="keyword">const</span> <span class="keywordtype">char</span> *src, <span class="keyword">const</span> <span class="keywordtype">char</span> *destEnd);</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="classSerialModemBase.html#a9b5ca2224740d2dd54b36b7e7bccdbfd">appendHex2</a>(<span class="keywordtype">char</span> *dest, uint8_t val, <span class="keyword">const</span> <span class="keywordtype">char</span> *destEnd);</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span> </div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <span class="comment">// Template helpers for automatic size deduction</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> N&gt;</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#ad51146522e52891aed90d67bda82f028">  313</a></span>    <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="classSerialModemBase.html#ad51146522e52891aed90d67bda82f028">appendStr</a>(<span class="keywordtype">char</span> (&amp;destBuf)[N], <span class="keywordtype">char</span> *currentPtr, <span class="keyword">const</span> <span class="keywordtype">char</span> *src)</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    {</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classSerialModemBase.html#a2c0601401ea0a17514bde32404c3ef39">appendStr</a>(currentPtr, src, destBuf + N);</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> N&gt;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a37c07ca4a66d4f31f44447c4fe0d80cf">  318</a></span>    <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code hl_function" href="classSerialModemBase.html#a37c07ca4a66d4f31f44447c4fe0d80cf">appendHex2</a>(<span class="keywordtype">char</span> (&amp;destBuf)[N], <span class="keywordtype">char</span> *currentPtr, uint8_t val)</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    {</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classSerialModemBase.html#a9b5ca2224740d2dd54b36b7e7bccdbfd">appendHex2</a>(currentPtr, val, destBuf + N);</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    }</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a32352cff59cdde60addf40436c0436bb">  323</a></span>    Stream *<a class="code hl_variable" href="classSerialModemBase.html#a32352cff59cdde60addf40436c0436bb">_uart</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">  324</a></span>    Stream *<a class="code hl_variable" href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">_debugStream</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="comment">// Shared Receive Buffer (Unified)</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a446cc6fec54d1514689efb111289324f">  327</a></span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="classSerialModemBase.html#a446cc6fec54d1514689efb111289324f">RX_BUFFER_SIZE</a> = 300;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#af598b0d59e607ca4ab8f7499401374a1">  328</a></span>    uint8_t <a class="code hl_variable" href="classSerialModemBase.html#af598b0d59e607ca4ab8f7499401374a1">_rxBuffer</a>[<a class="code hl_variable" href="classSerialModemBase.html#a446cc6fec54d1514689efb111289324f">RX_BUFFER_SIZE</a>];</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a660cde54b0cd8a5486f8e3c2b97a81a4">  329</a></span>    uint16_t <a class="code hl_variable" href="classSerialModemBase.html#a660cde54b0cd8a5486f8e3c2b97a81a4">_rxIndex</a> = 0;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a971b24470bc03cb6f1af64d0afa70ca1">  331</a></span>    int16_t <a class="code hl_variable" href="classSerialModemBase.html#a971b24470bc03cb6f1af64d0afa70ca1">_oneByteBuf</a> = -1;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno"><a class="line" href="classSerialModemBase.html#a25739d83e21f214315ec1e3dbb9598de">  332</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="classSerialModemBase.html#a25739d83e21f214315ec1e3dbb9598de">_debugRxNewLine</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="comment">// --- Internal State Machine ---</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="keyword">enum class</span> State</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        Idle,               </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        Sending,            </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        WaitingResponse,    </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        WaitingSaveResponse </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    };</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    State _state = State::Idle;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <span class="comment">// --- Command Queue ---</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> uint8_t QUEUE_SIZE = 8;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <a class="code hl_struct" href="structModemCommand.html">ModemCommand</a> _commandQueue[QUEUE_SIZE];</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keyword">volatile</span> uint8_t _queueHead = 0;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <span class="keyword">volatile</span> uint8_t _queueTail = 0;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <a class="code hl_struct" href="structModemCommand.html">ModemCommand</a> _currentCmd; <span class="comment">// Currently executing command</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="comment">// --- Sync/Result State ---</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="keyword">volatile</span> <span class="keywordtype">bool</span> _lastCmdComplete = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="keyword">volatile</span> ModemError _lastCmdResult = ModemError::Ok;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="comment">// Timeout state</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <span class="keywordtype">bool</span> _bTimeout = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    uint32_t _startTime = 0;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    uint32_t _timeOutDuration = 0;</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    ModemError enqueueInternal(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, CommandType type, <span class="keyword">const</span> uint8_t *payload, uint8_t len, <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix, uint32_t timeoutMs);</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>};</div>
<div class="ttc" id="aclassSerialModemBase_html"><div class="ttname"><a href="classSerialModemBase.html">SerialModemBase</a></div><div class="ttdoc">Base class handling low-level serial I/O, debugging, and async transaction logic.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:92</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a014b74a55c323917455166aa4f8bf0c9"><div class="ttname"><a href="classSerialModemBase.html#a014b74a55c323917455166aa4f8bf0c9">SerialModemBase::startTimeout</a></div><div class="ttdeci">void startTimeout(uint32_t ms)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:521</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a0376336f4d71edfd68fd9e16bd2bb356"><div class="ttname"><a href="classSerialModemBase.html#a0376336f4d71edfd68fd9e16bd2bb356">SerialModemBase::getByteValue</a></div><div class="ttdeci">ModemError getByteValue(const char *cmd, uint8_t *pValue, const char *respPrefix, size_t respLen)</div><div class="ttdoc">Helper to get a 1-byte value.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:301</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a037bdc3e12c26a97b58d43e178d61005"><div class="ttname"><a href="classSerialModemBase.html#a037bdc3e12c26a97b58d43e178d61005">SerialModemBase::getBoolValue</a></div><div class="ttdeci">ModemError getBoolValue(const char *cmd, bool *pValue, const char *respPrefix)</div><div class="ttdoc">Helper to get a boolean value (ON/OF).</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:358</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a092f06bfbced5de912078b554ce6eff9"><div class="ttname"><a href="classSerialModemBase.html#a092f06bfbced5de912078b554ce6eff9">SerialModemBase::onCommandComplete</a></div><div class="ttdeci">virtual void onCommandComplete(ModemError result)</div><div class="ttdoc">Optional hook called when a queued command finishes.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:304</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a11b99e1c6a57e007ffb2251de4a58ff6"><div class="ttname"><a href="classSerialModemBase.html#a11b99e1c6a57e007ffb2251de4a58ff6">SerialModemBase::CD_WRITE_OK_RESPONSE_LEN</a></div><div class="ttdeci">static constexpr size_t CD_WRITE_OK_RESPONSE_LEN</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:184</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a193725b12d94adcbfa185176a3d1c548"><div class="ttname"><a href="classSerialModemBase.html#a193725b12d94adcbfa185176a3d1c548">SerialModemBase::parseHex</a></div><div class="ttdeci">static bool parseHex(const uint8_t *pData, size_t len, uint32_t *pResult)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:539</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a22317dbeea2625b628b54ab3ad80f8e7"><div class="ttname"><a href="classSerialModemBase.html#a22317dbeea2625b628b54ab3ad80f8e7">SerialModemBase::parse</a></div><div class="ttdeci">virtual ModemParseResult parse()=0</div><div class="ttdoc">Main parser state machine step. Must use readByte() and update _rxBuffer / _rxIndex.</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a23917df1f4443acd603d143c55be585d"><div class="ttname"><a href="classSerialModemBase.html#a23917df1f4443acd603d143c55be585d">SerialModemBase::_debugStream</a></div><div class="ttdeci">Stream * _debugStream</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:324</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a25739d83e21f214315ec1e3dbb9598de"><div class="ttname"><a href="classSerialModemBase.html#a25739d83e21f214315ec1e3dbb9598de">SerialModemBase::_debugRxNewLine</a></div><div class="ttdeci">bool _debugRxNewLine</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:332</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a2742096334dffac539fec2245d06b0e8"><div class="ttname"><a href="classSerialModemBase.html#a2742096334dffac539fec2245d06b0e8">SerialModemBase::isIdle</a></div><div class="ttdeci">bool isIdle() const</div><div class="ttdoc">Checks if the internal engine is currently idle (no command processing).</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:159</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a2c0601401ea0a17514bde32404c3ef39"><div class="ttname"><a href="classSerialModemBase.html#a2c0601401ea0a17514bde32404c3ef39">SerialModemBase::appendStr</a></div><div class="ttdeci">static char * appendStr(char *dest, const char *src, const char *destEnd)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:252</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a2d5b808ae113cd332e75eb84780665a9"><div class="ttname"><a href="classSerialModemBase.html#a2d5b808ae113cd332e75eb84780665a9">SerialModemBase::sendRawCommand</a></div><div class="ttdeci">ModemError sendRawCommand(const char *command, char *responseBuffer, size_t bufferSize, uint32_t timeoutMs)</div><div class="ttdoc">Sends a raw command string and fills the provided buffer with the response.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:384</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a32352cff59cdde60addf40436c0436bb"><div class="ttname"><a href="classSerialModemBase.html#a32352cff59cdde60addf40436c0436bb">SerialModemBase::_uart</a></div><div class="ttdeci">Stream * _uart</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:323</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a37c07ca4a66d4f31f44447c4fe0d80cf"><div class="ttname"><a href="classSerialModemBase.html#a37c07ca4a66d4f31f44447c4fe0d80cf">SerialModemBase::appendHex2</a></div><div class="ttdeci">static char * appendHex2(char(&amp;destBuf)[N], char *currentPtr, uint8_t val)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:318</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a446cc6fec54d1514689efb111289324f"><div class="ttname"><a href="classSerialModemBase.html#a446cc6fec54d1514689efb111289324f">SerialModemBase::RX_BUFFER_SIZE</a></div><div class="ttdeci">static constexpr size_t RX_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:327</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a4c31ffdb564b1a19fcf983fcf536a445"><div class="ttname"><a href="classSerialModemBase.html#a4c31ffdb564b1a19fcf983fcf536a445">SerialModemBase::parseResponseDec</a></div><div class="ttdeci">ModemError parseResponseDec(const uint8_t *buffer, size_t length, const char *prefix, const char *suffix, size_t suffixLen, int32_t *pResult)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:597</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a4f23867fecd9dd11d1c7f3abaaaf6a9f"><div class="ttname"><a href="classSerialModemBase.html#a4f23867fecd9dd11d1c7f3abaaaf6a9f">SerialModemBase::getLogPrefix</a></div><div class="ttdeci">virtual const char * getLogPrefix() const =0</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a569e64d66f8153d2ff5d1132f6113aa1"><div class="ttname"><a href="classSerialModemBase.html#a569e64d66f8153d2ff5d1132f6113aa1">SerialModemBase::isLastCommandComplete</a></div><div class="ttdeci">bool isLastCommandComplete() const</div><div class="ttdoc">Checks if the last processed command has finished. Useful for implementing synchronous wrappers.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:118</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a62559c5e79c97e189bc533e6e519476d"><div class="ttname"><a href="classSerialModemBase.html#a62559c5e79c97e189bc533e6e519476d">SerialModemBase::enqueueTxCommand</a></div><div class="ttdeci">ModemError enqueueTxCommand(const char *cmdHeader, const uint8_t *payload, uint8_t len, const char *suffix=nullptr, uint32_t timeoutMs=2000)</div><div class="ttdoc">Enqueues a data transmission command with payload.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:226</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a6379a71afa895ca5a974e67cfecae4ce"><div class="ttname"><a href="classSerialModemBase.html#a6379a71afa895ca5a974e67cfecae4ce">SerialModemBase::update</a></div><div class="ttdeci">void update()</div><div class="ttdoc">Main processing loop. Must be called frequently. Handles command queue, transmission,...</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:50</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a660cde54b0cd8a5486f8e3c2b97a81a4"><div class="ttname"><a href="classSerialModemBase.html#a660cde54b0cd8a5486f8e3c2b97a81a4">SerialModemBase::_rxIndex</a></div><div class="ttdeci">uint16_t _rxIndex</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:329</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a6b1dc4f0421d790972c5a9e61f577207"><div class="ttname"><a href="classSerialModemBase.html#a6b1dc4f0421d790972c5a9e61f577207">SerialModemBase::isQueueFull</a></div><div class="ttdeci">bool isQueueFull() const</div><div class="ttdoc">Checks if the command queue is full.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:166</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a6e2f5fa62589053128efb5f01d06b9e5"><div class="ttname"><a href="classSerialModemBase.html#a6e2f5fa62589053128efb5f01d06b9e5">SerialModemBase::parseDec</a></div><div class="ttdeci">static bool parseDec(const uint8_t *pData, size_t len, uint32_t *pResult)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:563</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a6f2acddc58d3a5e2de5d0bc0e35f9d87"><div class="ttname"><a href="classSerialModemBase.html#a6f2acddc58d3a5e2de5d0bc0e35f9d87">SerialModemBase::enqueueCommand</a></div><div class="ttdeci">ModemError enqueueCommand(const char *cmd, CommandType type, uint32_t timeoutMs=1000)</div><div class="ttdoc">Enqueues a command for processing. Non-blocking.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:221</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a7129047f2aaa164b385f2243248e8dc4"><div class="ttname"><a href="classSerialModemBase.html#a7129047f2aaa164b385f2243248e8dc4">SerialModemBase::parseResponseHex</a></div><div class="ttdeci">ModemError parseResponseHex(const uint8_t *buffer, size_t length, const char *prefix, uint8_t hexDigits, uint32_t *pResult)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:583</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a721d7d491c855fdaf7fb6ac25cac7845"><div class="ttname"><a href="classSerialModemBase.html#a721d7d491c855fdaf7fb6ac25cac7845">SerialModemBase::SerialModemBase</a></div><div class="ttdeci">SerialModemBase()</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:18</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a72c19051d58c52cde545f5d9b7a406e2"><div class="ttname"><a href="classSerialModemBase.html#a72c19051d58c52cde545f5d9b7a406e2">SerialModemBase::clearUnreadByte</a></div><div class="ttdeci">void clearUnreadByte()</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:489</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a7ac70846ba74ce3fa3aef67424058a38"><div class="ttname"><a href="classSerialModemBase.html#a7ac70846ba74ce3fa3aef67424058a38">SerialModemBase::setBoolValue</a></div><div class="ttdeci">ModemError setBoolValue(const char *baseCmd, bool enabled, bool save, const char *respPrefix)</div><div class="ttdoc">Helper to set a boolean value (ON/OF).</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:325</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a7febfbea4cd126a4952f0e8d9e927b95"><div class="ttname"><a href="classSerialModemBase.html#a7febfbea4cd126a4952f0e8d9e927b95">SerialModemBase::getRxBuffer</a></div><div class="ttdeci">const uint8_t * getRxBuffer() const</div><div class="ttdoc">Accessor for the shared RX buffer.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:128</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a90001afb9989a22eef12a7bec84c0b92"><div class="ttname"><a href="classSerialModemBase.html#a90001afb9989a22eef12a7bec84c0b92">SerialModemBase::initSerial</a></div><div class="ttdeci">void initSerial(Stream &amp;stream)</div><div class="ttdoc">Sets the UART stream to use for modem communication.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:36</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a91ca8ae2b9ee8349a17b14a9322b567a"><div class="ttname"><a href="classSerialModemBase.html#a91ca8ae2b9ee8349a17b14a9322b567a">SerialModemBase::waitForSyncComplete</a></div><div class="ttdeci">ModemError waitForSyncComplete(uint32_t timeoutMs)</div><div class="ttdoc">Helper to wait for the current command to finish (Pseudo-blocking). Calls update() internally.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:233</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a92176561a6bc6194cb486b823ab4a3a5"><div class="ttname"><a href="classSerialModemBase.html#a92176561a6bc6194cb486b823ab4a3a5">SerialModemBase::~SerialModemBase</a></div><div class="ttdeci">virtual ~SerialModemBase()=default</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a938b49690a372fcd516ae717316dd69d"><div class="ttname"><a href="classSerialModemBase.html#a938b49690a372fcd516ae717316dd69d">SerialModemBase::setDebugStream</a></div><div class="ttdeci">void setDebugStream(Stream *debugStream)</div><div class="ttdoc">Initializes the debug stream.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:31</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a971b24470bc03cb6f1af64d0afa70ca1"><div class="ttname"><a href="classSerialModemBase.html#a971b24470bc03cb6f1af64d0afa70ca1">SerialModemBase::_oneByteBuf</a></div><div class="ttdeci">int16_t _oneByteBuf</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:331</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a9b5ca2224740d2dd54b36b7e7bccdbfd"><div class="ttname"><a href="classSerialModemBase.html#a9b5ca2224740d2dd54b36b7e7bccdbfd">SerialModemBase::appendHex2</a></div><div class="ttdeci">static char * appendHex2(char *dest, uint8_t val, const char *destEnd)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:262</div></div>
<div class="ttc" id="aclassSerialModemBase_html_a9c1a5a8e4c50afee52ff9ced7ebe547c"><div class="ttname"><a href="classSerialModemBase.html#a9c1a5a8e4c50afee52ff9ced7ebe547c">SerialModemBase::writeString</a></div><div class="ttdeci">void writeString(const char *str, bool printPrefix=true)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:417</div></div>
<div class="ttc" id="aclassSerialModemBase_html_aa6c733e4185493aa3e383fe64247940c"><div class="ttname"><a href="classSerialModemBase.html#aa6c733e4185493aa3e383fe64247940c">SerialModemBase::setByteValue</a></div><div class="ttdeci">ModemError setByteValue(const char *cmd, uint8_t value, bool save, const char *respPrefix, size_t respLen)</div><div class="ttdoc">Helper to set a 1-byte value (e.g., @CH0E) and verify the response.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:274</div></div>
<div class="ttc" id="aclassSerialModemBase_html_aa7b88289f19d571377fcd8f39a010d1d"><div class="ttname"><a href="classSerialModemBase.html#aa7b88289f19d571377fcd8f39a010d1d">SerialModemBase::isQueueEmpty</a></div><div class="ttdeci">bool isQueueEmpty() const</div><div class="ttdoc">Checks if the command queue is empty.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:171</div></div>
<div class="ttc" id="aclassSerialModemBase_html_aa7ba8a282229b25cd00193355dc79dad"><div class="ttname"><a href="classSerialModemBase.html#aa7ba8a282229b25cd00193355dc79dad">SerialModemBase::CD_VAL_ON</a></div><div class="ttdeci">static constexpr char CD_VAL_ON[]</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:185</div></div>
<div class="ttc" id="aclassSerialModemBase_html_aa89355ce4236571ae431f842acc497bc"><div class="ttname"><a href="classSerialModemBase.html#aa89355ce4236571ae431f842acc497bc">SerialModemBase::CD_VAL_OFF</a></div><div class="ttdeci">static constexpr char CD_VAL_OFF[]</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:186</div></div>
<div class="ttc" id="aclassSerialModemBase_html_ab502aab6b4954bb68da44cf7b129459d"><div class="ttname"><a href="classSerialModemBase.html#ab502aab6b4954bb68da44cf7b129459d">SerialModemBase::getLastCommandResult</a></div><div class="ttdeci">ModemError getLastCommandResult() const</div><div class="ttdoc">Gets the result of the last processed command.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:123</div></div>
<div class="ttc" id="aclassSerialModemBase_html_ab774f2f050e3e11d5ab3c88eaabaf916"><div class="ttname"><a href="classSerialModemBase.html#ab774f2f050e3e11d5ab3c88eaabaf916">SerialModemBase::CD_CMD_WRITE_SUFFIX</a></div><div class="ttdeci">static constexpr char CD_CMD_WRITE_SUFFIX[]</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:187</div></div>
<div class="ttc" id="aclassSerialModemBase_html_ab9c4b2aad658674f0cf16f0b0d12475d"><div class="ttname"><a href="classSerialModemBase.html#ab9c4b2aad658674f0cf16f0b0d12475d">SerialModemBase::getQueueCount</a></div><div class="ttdeci">uint8_t getQueueCount() const</div><div class="ttdoc">Gets the number of commands currently in the queue.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:176</div></div>
<div class="ttc" id="aclassSerialModemBase_html_ac35e6a4eb3d760c6d918f2842cb653a8"><div class="ttname"><a href="classSerialModemBase.html#ac35e6a4eb3d760c6d918f2842cb653a8">SerialModemBase::unreadByte</a></div><div class="ttdeci">void unreadByte(uint8_t c)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:484</div></div>
<div class="ttc" id="aclassSerialModemBase_html_acec4c7a18d9bf7eb0287214c31df2fa0"><div class="ttname"><a href="classSerialModemBase.html#acec4c7a18d9bf7eb0287214c31df2fa0">SerialModemBase::CD_WRITE_OK_RESPONSE</a></div><div class="ttdeci">static constexpr char CD_WRITE_OK_RESPONSE[]</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:183</div></div>
<div class="ttc" id="aclassSerialModemBase_html_ad51146522e52891aed90d67bda82f028"><div class="ttname"><a href="classSerialModemBase.html#ad51146522e52891aed90d67bda82f028">SerialModemBase::appendStr</a></div><div class="ttdeci">static char * appendStr(char(&amp;destBuf)[N], char *currentPtr, const char *src)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:313</div></div>
<div class="ttc" id="aclassSerialModemBase_html_ad5a965cb93670f444edd823236e77ff7"><div class="ttname"><a href="classSerialModemBase.html#ad5a965cb93670f444edd823236e77ff7">SerialModemBase::onRxDataReceived</a></div><div class="ttdeci">virtual void onRxDataReceived()=0</div></div>
<div class="ttc" id="aclassSerialModemBase_html_ae4f93fac59aa23311a1ac005d5d9248f"><div class="ttname"><a href="classSerialModemBase.html#ae4f93fac59aa23311a1ac005d5d9248f">SerialModemBase::flushGarbage</a></div><div class="ttdeci">void flushGarbage(char keepChar=' *')</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:494</div></div>
<div class="ttc" id="aclassSerialModemBase_html_aecf4e795e387b3b1e808cd007b0e042d"><div class="ttname"><a href="classSerialModemBase.html#aecf4e795e387b3b1e808cd007b0e042d">SerialModemBase::isTimeout</a></div><div class="ttdeci">bool isTimeout()</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:528</div></div>
<div class="ttc" id="aclassSerialModemBase_html_aedfe8da8ddd9f191ee0db34708cf2cd7"><div class="ttname"><a href="classSerialModemBase.html#aedfe8da8ddd9f191ee0db34708cf2cd7">SerialModemBase::writeData</a></div><div class="ttdeci">void writeData(const uint8_t *data, size_t len)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:429</div></div>
<div class="ttc" id="aclassSerialModemBase_html_af598b0d59e607ca4ab8f7499401374a1"><div class="ttname"><a href="classSerialModemBase.html#af598b0d59e607ca4ab8f7499401374a1">SerialModemBase::_rxBuffer</a></div><div class="ttdeci">uint8_t _rxBuffer[RX_BUFFER_SIZE]</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:328</div></div>
<div class="ttc" id="aclassSerialModemBase_html_af6359d9f6c622d523f0c8155190c3560"><div class="ttname"><a href="classSerialModemBase.html#af6359d9f6c622d523f0c8155190c3560">SerialModemBase::readByte</a></div><div class="ttdeci">int readByte()</div><div class="ttdef"><b>Definition:</b> SerialModemBase.cpp:437</div></div>
<div class="ttc" id="aclassSerialModemBase_html_afdaea338042a56fccd7e4944c1daeb6f"><div class="ttname"><a href="classSerialModemBase.html#afdaea338042a56fccd7e4944c1daeb6f">SerialModemBase::getRxIndex</a></div><div class="ttdeci">uint16_t getRxIndex() const</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:129</div></div>
<div class="ttc" id="astructModemCommand_html"><div class="ttname"><a href="structModemCommand.html">ModemCommand</a></div><div class="ttdoc">Structure to hold queued commands.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:51</div></div>
<div class="ttc" id="astructModemCommand_html_a2d12ae450ad13ece22402b2625901d07"><div class="ttname"><a href="structModemCommand.html#a2d12ae450ad13ece22402b2625901d07">ModemCommand::suffix</a></div><div class="ttdeci">char suffix[48]</div><div class="ttdoc">Optional suffix for DataTx (e.g., routing options)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:56</div></div>
<div class="ttc" id="astructModemCommand_html_a379d1badb98d7145f06521538b0aa7a3"><div class="ttname"><a href="structModemCommand.html#a379d1badb98d7145f06521538b0aa7a3">ModemCommand::pPayload</a></div><div class="ttdeci">const uint8_t * pPayload</div><div class="ttdoc">Pointer to payload data (for DataTx)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:54</div></div>
<div class="ttc" id="astructModemCommand_html_a4e4a6f6e8c65e48c6d81f283f0bc7969"><div class="ttname"><a href="structModemCommand.html#a4e4a6f6e8c65e48c6d81f283f0bc7969">ModemCommand::type</a></div><div class="ttdeci">CommandType type</div><div class="ttdoc">Type of command.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:52</div></div>
<div class="ttc" id="astructModemCommand_html_a81b918a9a334cad508e0346232624380"><div class="ttname"><a href="structModemCommand.html#a81b918a9a334cad508e0346232624380">ModemCommand::payloadLen</a></div><div class="ttdeci">uint8_t payloadLen</div><div class="ttdoc">Length of payload.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:55</div></div>
<div class="ttc" id="astructModemCommand_html_aebf5efd384f2387eef79ba3ab178a606"><div class="ttname"><a href="structModemCommand.html#aebf5efd384f2387eef79ba3ab178a606">ModemCommand::cmdBuffer</a></div><div class="ttdeci">char cmdBuffer[48]</div><div class="ttdoc">Command string (header only for DataTx)</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:53</div></div>
<div class="ttc" id="astructModemCommand_html_af58ddc0e562b25b7294090eaf2c0ede4"><div class="ttname"><a href="structModemCommand.html#af58ddc0e562b25b7294090eaf2c0ede4">ModemCommand::timeoutMs</a></div><div class="ttdeci">uint32_t timeoutMs</div><div class="ttdoc">Timeout for this command.</div><div class="ttdef"><b>Definition:</b> SerialModemBase.h:57</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
